<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Review Your Most Accurate Chess Games</title>
  <meta name="description" content="A tool to review a player’s most accurate chess games on Lichess.">
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" type="image/x-icon" href="favicon.png">
</head>
<body>

  <main>
    <h1>Review Your Most Accurate Chess Games</h1>
    <p>Enter your Lichess username and press REVIEW. After some time, you should get a list of your most accurate games.</p>

    <p>This tool will only retrieve games where computer analysis is already available and will only look at the last 1000 such games.</p>

    <form action="/go" method="post">
      <label for="username">Lichess username</label>
      <input id="username" type="text" name="username" required>

      <label for="time_control">Time control</label>
      <select id="time_control" name="time_control" required>
        <option value="bullet">bullet</option>
        <option value="blitz" selected>blitz</option>
        <option value="rapid">rapid</option>
        <option value="classical">classical</option>
      </select>

      <div style="display: flex; align-items: center; margin-bottom: 10px;">
        <input id="rated_only" type="checkbox" name="rated_only" value="true" checked>
        <label for="rated_only"> Rated games only</label>
      </div>

      <div style="display: flex; align-items: center;">
        <input id="exclude_miniatures" type="checkbox" name="exclude_miniatures" value="true" checked>
        <label for="exclude_miniatures"> Exclude miniatures (&lt; 20 moves)</label>
      </div>

      <button type="submit">REVIEW</button>
      <div id="loading" class="pulse" style="width: 100%; text-align: center; font-size: 90%;" hidden>Loading… This might take a minute.</div>
    </form>

    <script>
      document.querySelector("form").addEventListener("submit", () => {
        const form = document.querySelector("form")
        const submitButton = form.querySelector("button[type='submit']")
        submitButton.disabled = true

        const loading = form.querySelector("#loading")
        loading.hidden = false
      })
    </script>
  </main>

  {{template "footer"}}
</body>
</html>
